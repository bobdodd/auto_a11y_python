<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warning: Text Contrast Cannot Calculate - Manual Testing Required</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }

        .section {
            background: white;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
        }

        .case {
            margin: 20px 0;
            padding: 15px;
            border: 2px solid #ccc;
            border-radius: 4px;
            background: #fafafa;
        }

        .case-label {
            display: block;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            background: #e0e0e0;
            padding: 5px 10px;
            border-radius: 3px;
        }

        .note {
            color: #d32f2f;
            font-style: italic;
            font-size: 14px;
            margin-top: 10px;
        }

        /* Section 1: Background Images - High Contrast */
        .bg-image-simple {
            background-image: url('data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22200%22%20height%3D%22100%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20width%3D%22200%22%20height%3D%22100%22%20fill%3D%22%23000000%22%2F%3E%3C%2Fsvg%3E');
            padding: 20px;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        .bg-image-data-uri {
            background-image: url('data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2240%22%20height%3D%2240%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20width%3D%2220%22%20height%3D%2220%22%20fill%3D%22%23000000%22%2F%3E%3Crect%20x%3D%2220%22%20width%3D%2220%22%20height%3D%2220%22%20fill%3D%22%23111111%22%2F%3E%3Crect%20y%3D%2220%22%20width%3D%2220%22%20height%3D%2220%22%20fill%3D%22%23111111%22%2F%3E%3Crect%20x%3D%2220%22%20y%3D%2220%22%20width%3D%2220%22%20height%3D%2220%22%20fill%3D%22%23000000%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: repeat;
            background-size: 40px 40px;
            padding: 20px;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        .bg-image-pattern {
            background: repeating-linear-gradient(
                45deg,
                #000000 0px,
                #000000 20px,
                #1a1a1a 20px,
                #1a1a1a 40px
            );
            padding: 20px;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        .bg-image-layered {
            background-image:
                url('data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ccircle%20cx%3D%2230%22%20cy%3D%2230%22%20r%3D%2225%22%20fill%3D%22%23000000%22%20opacity%3D%220.9%22%2F%3E%3C%2Fsvg%3E'),
                linear-gradient(to bottom, #000000, #1a1a1a);
            background-repeat: repeat;
            background-size: 60px 60px, 100% 100%;
            padding: 20px;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        /* Section 2: Gradients - High Contrast */
        .gradient-linear {
            background: linear-gradient(to right, #000000, #1a1a1a);
            padding: 20px;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        .gradient-radial {
            background: radial-gradient(circle, #1a1a1a, #000000);
            padding: 20px;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        .gradient-multi-stop {
            background: linear-gradient(to right, #000000 0%, #0d0d0d 25%, #1a1a1a 50%, #0d0d0d 75%, #000000 100%);
            padding: 20px;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        .gradient-with-alpha {
            background: linear-gradient(to right, rgba(0,0,0,1), rgba(26,26,26,1));
            padding: 20px;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        .gradient-conic {
            background: conic-gradient(from 0deg, #000000, #1a1a1a, #000000);
            padding: 20px;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        .gradient-extreme {
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 20%, #0d0d0d 40%, #000000 60%, #1a1a1a 80%, #000000 100%);
            padding: 20px;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        /* Section 3: Z-Index Stacking Contexts - Background May Change */
        .zindex-transparent-parent {
            position: relative;
            background: #ffffff;
            padding: 20px;
            min-height: 100px;
        }

        .zindex-transparent-text {
            position: absolute;
            top: 40px;
            left: 20px;
            z-index: 10;
            background: transparent;
            color: #000000;
            font-weight: bold;
            font-size: 18px;
            padding: 10px;
        }

        .zindex-floating-layer {
            position: fixed;
            top: 100px;
            left: 50px;
            z-index: 100;
            background: rgba(0, 0, 0, 0.7);
            color: #ffffff;
            padding: 20px;
            font-weight: bold;
            font-size: 18px;
        }

        .zindex-modal-overlay {
            position: relative;
            background: #ffffff;
            padding: 20px;
            min-height: 150px;
        }

        .zindex-modal-content {
            position: absolute;
            top: 30px;
            left: 30px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.85);
            color: #000000;
            padding: 20px;
            font-weight: bold;
            font-size: 18px;
            border: 2px solid #000000;
        }

        /* Section 4: Text Overflow - High Contrast Inside, No Background Outside */
        .overflow-horizontal {
            width: 200px;
            background: #000000;
            overflow: visible;
            white-space: nowrap;
            padding: 15px;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        .overflow-vertical {
            height: 25px;
            background: #000000;
            overflow: visible;
            padding: 8px;
            color: #ffffff;
            font-weight: bold;
            line-height: 1.3;
            font-size: 16px;
        }

        .overflow-absolute-parent {
            position: relative;
            height: 100px;
            background: #000000;
            padding: 15px;
        }

        .overflow-absolute {
            position: absolute;
            top: 15px;
            left: 15px;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        .overflow-negative-margin {
            background: #000000;
            color: #ffffff;
            padding: 15px;
            margin-left: -50px;
            font-weight: bold;
            font-size: 18px;
        }

        .overflow-transform {
            background: #000000;
            color: #ffffff;
            padding: 15px;
            transform: translateX(-30px);
            font-weight: bold;
            font-size: 18px;
        }

        .overflow-rotated {
            background: #000000;
            color: #ffffff;
            padding: 15px;
            transform: rotate(-5deg);
            font-weight: bold;
            font-size: 18px;
            width: 200px;
        }

        .overflow-float {
            float: left;
            background: #000000;
            color: #ffffff;
            padding: 15px;
            width: 150px;
            font-weight: bold;
            font-size: 18px;
        }

        /* Section 5: CSS Animations - High Contrast Throughout */
        @keyframes movePosition {
            0% { transform: translateX(0px); }
            50% { transform: translateX(300px); }
            100% { transform: translateX(0px); }
        }

        @keyframes colorChange {
            0% { background-color: #000000; }
            25% { background-color: #0d0d0d; }
            50% { background-color: #1a1a1a; }
            75% { background-color: #0d0d0d; }
            100% { background-color: #000000; }
        }

        @keyframes textColorChange {
            0% { color: #ffffff; }
            50% { color: #cccccc; }
            100% { color: #ffffff; }
        }

        @keyframes opacityPulse {
            0% { opacity: 1.0; }
            50% { opacity: 0.95; }
            100% { opacity: 1.0; }
        }

        @keyframes combinedMove {
            0% { transform: translateY(0px); opacity: 1.0; }
            50% { transform: translateY(50px); opacity: 0.95; }
            100% { transform: translateY(0px); opacity: 1.0; }
        }

        .anim-position-parent {
            position: relative;
            height: 80px;
            background: linear-gradient(to right, #ffffff, #000000);
            overflow: visible;
        }

        .anim-position-moving {
            position: absolute;
            background: transparent;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
            text-shadow: 2px 2px 4px #000000;
            animation: movePosition 4s infinite;
        }

        .anim-bg-color {
            animation: colorChange 3s infinite;
            padding: 20px;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        .anim-text-color {
            background: #000000;
            animation: textColorChange 3s infinite;
            padding: 20px;
            font-weight: bold;
            font-size: 18px;
        }

        .anim-opacity {
            background: #000000;
            color: #ffffff;
            padding: 20px;
            font-weight: bold;
            font-size: 18px;
            animation: opacityPulse 2s infinite;
        }

        .anim-combined {
            background: radial-gradient(circle, #1a1a1a, #000000);
            color: #ffffff;
            padding: 20px;
            font-weight: bold;
            font-size: 18px;
            animation: combinedMove 3s infinite;
        }

        /* Section 6: Complex/Combined Cases - High Contrast */
        .complex-transparent-over-gradient {
            background: linear-gradient(to bottom, #000000, #1a1a1a);
            padding: 20px;
            position: relative;
        }

        .complex-transparent-text {
            background: transparent;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
            text-shadow: 2px 2px 4px #000000;
        }

        .complex-layered {
            background: linear-gradient(to right, #000000, #1a1a1a);
            padding: 20px;
            position: relative;
        }

        .complex-layered-inner {
            background: rgba(0, 0, 0, 0.9);
            color: #ffffff;
            padding: 15px;
            font-weight: bold;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <h1>Warning: Text Contrast Cannot Calculate - Manual Testing Required</h1>
    <p><strong>Purpose:</strong> These cases have HIGH CONTRAST (text inside passes 4.5:1), but automated tools cannot reliably calculate contrast due to complex backgrounds, animations, or overflow. Manual testing is required.</p>

    <div class="section">
        <h2>Section 1: Background Images</h2>
        <p><strong>Detection:</strong> Check for <code>background-image</code> property with <code>url()</code> values.</p>
        <p><strong>Why manual testing needed:</strong> Image content may vary or change; automated tools cannot reliably determine all background colors behind text.</p>

        <div class="case">
            <span class="case-label">BG-IMG-1: Simple SVG Background (Black)</span>
            <div class="bg-image-simple">
                White text on black SVG background. Contrast is 21:1, but image could change.
            </div>
            <div class="note">✓ Text inside passes contrast (21:1). Manual testing needed due to background-image.</div>
        </div>

        <div class="case">
            <span class="case-label">BG-IMG-2: Data URI Pattern (Dark Checkerboard)</span>
            <div class="bg-image-data-uri">
                White text on dark checkerboard pattern. High contrast, but pattern is image-based.
            </div>
            <div class="note">✓ Text inside passes contrast. Manual testing needed due to SVG pattern.</div>
        </div>

        <div class="case">
            <span class="case-label">BG-IMG-3: Repeating Pattern (Dark Stripes)</span>
            <div class="bg-image-pattern">
                White text on dark diagonal stripes. High contrast throughout, but gradient-based.
            </div>
            <div class="note">✓ Text inside passes contrast. Manual testing needed due to repeating gradient.</div>
        </div>

        <div class="case">
            <span class="case-label">BG-IMG-4: Layered Backgrounds (Dark Circles + Gradient)</span>
            <div class="bg-image-layered">
                White text on layered dark backgrounds. Multiple layers make automated calculation complex.
            </div>
            <div class="note">✓ Text inside passes contrast. Manual testing needed due to layered images.</div>
        </div>
    </div>

    <div class="section">
        <h2>Section 2: Gradients</h2>
        <p><strong>Detection:</strong> Check for <code>linear-gradient()</code>, <code>radial-gradient()</code>, or <code>conic-gradient()</code> in background properties.</p>
        <p><strong>Why manual testing needed:</strong> Contrast ratio varies across the gradient; no single value represents all text.</p>

        <div class="case">
            <span class="case-label">GRAD-1: Linear Gradient (Black to Dark Gray)</span>
            <div class="gradient-linear">
                White text on black-to-gray gradient. High contrast throughout, but ratio varies.
            </div>
            <div class="note">✓ Text inside passes contrast across gradient. Manual testing needed due to varying background.</div>
        </div>

        <div class="case">
            <span class="case-label">GRAD-2: Radial Gradient (Dark Gray to Black)</span>
            <div class="gradient-radial">
                White text on radial dark gradient. Contrast excellent, but changes from center to edges.
            </div>
            <div class="note">✓ Text inside passes contrast. Manual testing needed due to radial variation.</div>
        </div>

        <div class="case">
            <span class="case-label">GRAD-3: Multi-Stop Gradient (Dark Variations)</span>
            <div class="gradient-multi-stop">
                White text on multi-stop dark gradient. High contrast at all stops, but complex.
            </div>
            <div class="note">✓ Text inside passes contrast. Manual testing needed due to multiple color stops.</div>
        </div>

        <div class="case">
            <span class="case-label">GRAD-4: Gradient with Alpha (Black with Opacity)</span>
            <div class="gradient-with-alpha">
                White text on alpha-channel dark gradient. Fully opaque here, but uses rgba().
            </div>
            <div class="note">✓ Text inside passes contrast. Manual testing needed due to alpha channel.</div>
        </div>

        <div class="case">
            <span class="case-label">GRAD-5: Conic Gradient (Dark Circular)</span>
            <div class="gradient-conic">
                White text on conic dark gradient. High contrast, but background rotates in color wheel.
            </div>
            <div class="note">✓ Text inside passes contrast. Manual testing needed due to conic rotation.</div>
        </div>

        <div class="case">
            <span class="case-label">GRAD-6: Extreme Multi-Directional (Dark Complex)</span>
            <div class="gradient-extreme">
                White text on complex dark gradient. Multiple angles and stops, but high contrast.
            </div>
            <div class="note">✓ Text inside passes contrast. Manual testing needed due to complexity.</div>
        </div>
    </div>

    <div class="section">
        <h2>Section 3: Z-Index Stacking Contexts</h2>
        <p><strong>Detection:</strong> Check for elements with <code>z-index</code> + <code>position</code> (not static) that create stacking contexts.</p>
        <p><strong>Why manual testing needed:</strong> Stacking contexts suggest content may be layered or repositioned dynamically, making background unpredictable. Note: Transparent backgrounds WITHOUT z-index are perfectly fine and should NOT be flagged.</p>

        <div class="case">
            <span class="case-label">ZINDEX-1: Transparent Background with Z-Index</span>
            <div class="zindex-transparent-parent">
                <div class="zindex-transparent-text">
                    Black text with transparent background and z-index: 10. Currently on white (19.6:1), but z-index suggests layering.
                </div>
            </div>
            <div class="note">✓ Text inside passes contrast (19.6:1 on white). Manual testing needed due to z-index stacking context.</div>
        </div>

        <div class="case">
            <span class="case-label">ZINDEX-2: Fixed Position with Z-Index</span>
            <div class="zindex-floating-layer">
                White text on semi-transparent black with position: fixed and z-index: 100. Content underneath may change.
            </div>
            <div class="note">✓ Text inside passes contrast. Manual testing needed due to fixed positioning + z-index.</div>
        </div>

        <div class="case">
            <span class="case-label">ZINDEX-3: Modal Overlay with High Z-Index</span>
            <div class="zindex-modal-overlay">
                <div class="zindex-modal-content">
                    Black text on semi-transparent white with z-index: 1000. Modal pattern suggests dynamic background.
                </div>
            </div>
            <div class="note">✓ Text inside passes contrast. Manual testing needed due to modal z-index pattern.</div>
        </div>
    </div>

    <div class="section">
        <h2>Section 4: Text Overflow</h2>
        <p><strong>Detection:</strong> Check for <code>overflow: visible</code>, text dimensions exceeding container, or positioning that moves text outside container.</p>
        <p><strong>Why manual testing needed:</strong> Text inside container passes contrast, but text outside container has no defined background.</p>

        <div class="case">
            <span class="case-label">OVER-1: Horizontal Overflow (nowrap)</span>
            <div class="overflow-horizontal">
                White on black inside, but this text extends beyond the black container edge and has no background.
            </div>
            <div class="note">✓ Text inside passes (21:1). ⚠ Text outside has no background. Manual testing required.</div>
        </div>

        <div class="case">
            <span class="case-label">OVER-2: Vertical Overflow (limited height)</span>
            <div class="overflow-vertical">
                Inside black box.<br>
                Line 2 overflows.<br>
                Line 3 overflows.<br>
                Line 4 overflows.
            </div>
            <div class="note">✓ Text inside passes (21:1). ⚠ Lines 2-4 overflow with no background. Manual testing required.</div>
        </div>

        <div class="case">
            <span class="case-label">OVER-3: Absolute Positioning Outside</span>
            <div class="overflow-absolute-parent">
                <div class="overflow-absolute">
                    This text is positioned absolutely and extends beyond the black container using position: absolute with large dimensions.
                </div>
            </div>
            <div class="note">✓ Text inside passes. ⚠ Text positioned outside has no background. Manual testing required.</div>
        </div>

        <div class="case">
            <span class="case-label">OVER-4: Negative Margin</span>
            <div class="overflow-negative-margin">
                White text on black with negative left margin. Part extends left with no background.
            </div>
            <div class="note">✓ Text inside passes. ⚠ Text in negative margin area has no background. Manual testing required.</div>
        </div>

        <div class="case">
            <span class="case-label">OVER-5: Transform Translation</span>
            <div class="overflow-transform">
                White text on black with transform translateX. Part extends left with no background.
            </div>
            <div class="note">✓ Text inside passes. ⚠ Transformed text extends beyond background. Manual testing required.</div>
        </div>

        <div class="case">
            <span class="case-label">OVER-6: Rotated Text</span>
            <div class="overflow-rotated">
                White text on black rotated -5deg. Corners extend beyond black background area.
            </div>
            <div class="note">✓ Text inside passes. ⚠ Rotated corners may extend beyond background. Manual testing required.</div>
        </div>

        <div class="case">
            <span class="case-label">OVER-7: Floated Element</span>
            <div class="overflow-float">
                White text on black with float. May extend beyond black container in float context.
            </div>
            <div style="clear: both;"></div>
            <div class="note">✓ Text inside passes. ⚠ Floated text may extend beyond background. Manual testing required.</div>
        </div>
    </div>

    <div class="section">
        <h2>Section 5: CSS Animations</h2>
        <p><strong>Detection:</strong> Check for <code>animation</code>, <code>animation-name</code>, <code>@keyframes</code>, or <code>transition</code> properties affecting colors, opacity, or position.</p>
        <p><strong>Why manual testing needed:</strong> Contrast ratio changes over time during animation; single static measurement insufficient.</p>

        <div class="case">
            <span class="case-label">ANIM-1: Moving Transparent Text Over Gradient</span>
            <div class="anim-position-parent">
                <div class="anim-position-moving">
                    Text moves left-right over white-to-black gradient. High contrast throughout, but background changes.
                </div>
            </div>
            <div class="note">✓ Text passes contrast across entire gradient. Manual testing needed due to animated position.</div>
        </div>

        <div class="case">
            <span class="case-label">ANIM-2: Animated Background Color (Dark Cycle)</span>
            <div class="anim-bg-color">
                White text on background cycling through dark shades. High contrast maintained, but background animates.
            </div>
            <div class="note">✓ Text passes contrast at all keyframes. Manual testing needed due to animated background.</div>
        </div>

        <div class="case">
            <span class="case-label">ANIM-3: Animated Text Color (White to Light Gray)</span>
            <div class="anim-text-color">
                Text color changes from white to light gray on black. Contrast varies but remains high.
            </div>
            <div class="note">✓ Text passes contrast at all keyframes. Manual testing needed due to animated text color.</div>
        </div>

        <div class="case">
            <span class="case-label">ANIM-4: Animated Opacity (Pulsing)</span>
            <div class="anim-opacity">
                White text on black with pulsing opacity (100% to 95%). High contrast maintained throughout.
            </div>
            <div class="note">✓ Text passes contrast at all opacity levels. Manual testing needed due to animated opacity.</div>
        </div>

        <div class="case">
            <span class="case-label">ANIM-5: Combined Animations (Position + Opacity)</span>
            <div class="anim-combined">
                White text on dark radial gradient with position and opacity animations. High contrast throughout.
            </div>
            <div class="note">✓ Text passes contrast across animation. Manual testing needed due to multiple animated properties.</div>
        </div>
    </div>

    <div class="section">
        <h2>Section 6: Complex/Combined Cases</h2>
        <p><strong>Why manual testing needed:</strong> Multiple factors combine making automated calculation unreliable, even though visible contrast appears high.</p>

        <div class="case">
            <span class="case-label">COMPLEX-1: Transparent Text Over Dark Gradient</span>
            <div class="complex-transparent-over-gradient">
                <div class="complex-transparent-text">
                    White text with transparent background over black-to-gray gradient. High contrast, but layered transparency and gradient.
                </div>
            </div>
            <div class="note">✓ Text passes contrast across gradient. Manual testing needed due to transparent + gradient combination.</div>
        </div>

        <div class="case">
            <span class="case-label">COMPLEX-2: Layered Transparencies on Dark Gradient</span>
            <div class="complex-layered">
                <div class="complex-layered-inner">
                    White text on 90% opaque black, over dark gradient. Multiple layers, but high contrast maintained.
                </div>
            </div>
            <div class="note">✓ Text passes contrast through layers. Manual testing needed due to multiple transparent layers + gradient.</div>
        </div>
    </div>

    <p style="margin-top: 40px; padding: 20px; background: #fff3cd; border: 2px solid #ffc107; border-radius: 8px;">
        <strong>Summary:</strong> All test cases in this fixture have HIGH CONTRAST (text inside container passes 4.5:1 minimum for AA). However, automated tools should flag these for manual testing due to:
        <ul>
            <li><strong>Complex backgrounds</strong> (images, gradients) where contrast may vary across the surface</li>
            <li><strong>Z-index stacking contexts</strong> where positioned elements with z-index may have unpredictable backgrounds due to layering (Note: transparent backgrounds WITHOUT z-index are fine and should NOT be flagged)</li>
            <li><strong>Text overflow</strong> where some text extends beyond defined background container</li>
            <li><strong>CSS animations</strong> where contrast changes over time</li>
            <li><strong>Combined factors</strong> that make reliable automated calculation impossible</li>
        </ul>
        <strong>Expected Result:</strong> Warning/Manual Testing Required (e.g., <code>WarnTextContrastCannotCalculate</code>)
        <br><br>
        <strong>Important:</strong> Simple transparent backgrounds without z-index are NOT included here because they can be reliably calculated by walking up the DOM tree to find the effective background color.
    </p>
</body>
</html>
