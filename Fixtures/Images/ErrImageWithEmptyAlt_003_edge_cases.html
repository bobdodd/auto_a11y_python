<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ErrImageWithEmptyAlt - Edge Cases</title>
    <script type="application/json" id="test-metadata">
{
    "id": "ErrImageWithEmptyAlt_003_edge_cases",
    "issueId": "ErrImageWithEmptyAlt",
    "expectedViolationCount": 3,
    "expectedPassCount": 3,
    "description": "Edge cases for whitespace-only alt detection",
    "wcag": "1.1.1",
    "impact": "Medium"
}
    </script>
</head>
<body>
    <h1>ErrImageWithEmptyAlt - Edge Cases</h1>

    <!-- EDGE 1: Single space (ERROR) -->
    <h2>Edge 1: Alt with single space</h2>
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23ff0000' width='100' height='100'/%3E%3C/svg%3E"
         alt=" "
         data-expected-violation="true"
         data-violation-id="ErrImageWithEmptyAlt"
         data-violation-reason="Alt contains single space - looks empty in code but isn't truly empty.">

    <!-- EDGE 2: Non-breaking space (ERROR) -->
    <h2>Edge 2: Alt with non-breaking space</h2>
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%2300ff00' width='100' height='100'/%3E%3C/svg%3E"
         alt=" "
         data-expected-violation="true"
         data-violation-id="ErrImageWithEmptyAlt"
         data-violation-reason="Alt contains non-breaking space (nbsp) - whitespace character that's not truly empty.">

    <!-- EDGE 3: Zero-width space (would be caught as empty after trim) - Actually passes trim test -->
    <h2>Edge 3: Alt with zero-width space</h2>
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%230000ff' width='100' height='100'/%3E%3C/svg%3E"
         alt="â€‹"
         data-expected-violation="true"
         data-violation-id="ErrImageWithEmptyAlt"
         data-violation-reason="Alt contains zero-width space - invisible whitespace character.">

    <!-- EDGE 4: Alt with actual descriptive text (PASS) -->
    <h2>Edge 4: Proper descriptive alt text</h2>
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Ccircle fill='%23ffaa00' cx='50' cy='50' r='40'/%3E%3C/svg%3E"
         alt="Warning icon"
         data-expected-pass="true"
         data-pass-reason="Alt contains actual descriptive text.">

    <!-- EDGE 5: Empty alt for decorative image (PASS) -->
    <h2>Edge 5: Properly empty alt for decorative</h2>
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23cccccc' width='100' height='100'/%3E%3C/svg%3E"
         alt=""
         data-expected-pass="true"
         data-pass-reason="Truly empty alt (no whitespace) correctly marks image as decorative.">

    <!-- EDGE 6: Image with aria-label (PASS - alt doesn't matter when aria-label present) -->
    <h2>Edge 6: Image with aria-label takes precedence</h2>
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23aa00aa' width='100' height='100'/%3E%3C/svg%3E"
         alt="Placeholder"
         aria-label="Important icon"
         data-expected-pass="true"
         data-pass-reason="Has proper alt text (not whitespace-only).">
</body>
</html>
