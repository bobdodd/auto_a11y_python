<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Fixture: WarnMissingAriaLabelledby</title>
    <style>
        .form-section {
            margin: 2rem 0;
            padding: 1rem;
            border: 1px solid #ccc;
        }
        .form-section h3 {
            margin-top: 0;
        }
        .field-group {
            margin: 1rem 0;
        }
        .helper-text {
            font-size: 0.9em;
            color: #666;
            margin-top: 0.25rem;
        }
        .error-text {
            color: #d32f2f;
            font-size: 0.9em;
        }
        .required {
            color: #d32f2f;
        }
        .label-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .secondary-label {
            font-size: 0.9em;
            color: #666;
        }
    </style>
</head>
<body>
    <h1>Test Fixture: Missing aria-labelledby Warnings</h1>
    
    <!-- Positive Cases: Should NOT trigger warnings -->
    <div class="form-section">
        <h3>‚úì Good Examples (Should NOT trigger warnings)</h3>
        
        <div class="field-group">
            <label for="good-simple">Simple field with basic label:</label>
            <input type="text" id="good-simple" />
        </div>
        
        <div class="field-group">
            <span id="complex-label-1">Account Number</span>
            <span id="complex-label-2" class="secondary-label">(Last 4 digits)</span>
            <input type="text" id="good-complex" aria-labelledby="complex-label-1 complex-label-2" />
        </div>
        
        <div class="field-group">
            <label for="good-with-description">Password:</label>
            <input type="password" id="good-with-description" aria-describedby="pwd-help" />
            <div id="pwd-help" class="helper-text">Must be at least 8 characters</div>
        </div>
    </div>

    <!-- Negative Cases: Should trigger warnings -->
    <div class="form-section">
        <h3>‚ö†Ô∏è Warning Cases (Should trigger WarnMissingAriaLabelledby)</h3>
        
        <!-- Case 1: Multiple visual labels without aria-labelledby -->
        <div class="field-group">
            <div class="label-group">
                <span id="salary-main">Annual Salary</span>
                <span id="salary-currency" class="secondary-label">(USD)</span>
                <span id="salary-required" class="required">*</span>
            </div>
            <input type="number" id="warn-multiple-labels" />
            <div class="helper-text">Enter your gross annual salary before taxes</div>
        </div>
        
        <!-- Case 2: Field with complex labeling structure -->
        <div class="field-group">
            <h4 id="address-section">Billing Address</h4>
            <span id="street-label">Street Address</span>
            <span id="line1-label" class="secondary-label">Line 1</span>
            <input type="text" id="warn-address-line1" />
        </div>
        
        <!-- Case 3: Form field in table with column headers -->
        <table>
            <thead>
                <tr>
                    <th id="item-header">Item</th>
                    <th id="quantity-header">Quantity</th>
                    <th id="price-header">Unit Price</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Widget A</td>
                    <td><input type="number" id="warn-table-qty" min="1" /></td>
                    <td>$10.00</td>
                </tr>
            </tbody>
        </table>
        
        <!-- Case 4: Grouped radio buttons with complex labeling -->
        <fieldset>
            <legend id="shipping-legend">Shipping Options</legend>
            <div class="field-group">
                <span id="express-main">Express Delivery</span>
                <span id="express-time" class="secondary-label">(Next day)</span>
                <span id="express-cost" class="secondary-label">+$15.00</span>
                <input type="radio" id="warn-shipping-express" name="shipping" value="express" />
            </div>
        </fieldset>
        
        <!-- Case 5: Date field with multiple context labels -->
        <div class="field-group">
            <span id="birth-label">Date of Birth</span>
            <span id="birth-format" class="secondary-label">(MM/DD/YYYY)</span>
            <span id="birth-note" class="helper-text">Must be 18 or older</span>
            <input type="date" id="warn-birthdate" />
        </div>
        
        <!-- Case 6: Field with error message and help text -->
        <div class="field-group">
            <label for="warn-email-complex">Email Address</label>
            <span id="email-req" class="required">Required</span>
            <input type="email" id="warn-email-complex" />
            <div id="email-error" class="error-text">Please enter a valid email address</div>
            <div id="email-help" class="helper-text">We'll never share your email</div>
        </div>
        
        <!-- Case 7: Measurement field with units and ranges -->
        <div class="field-group">
            <span id="height-main">Height</span>
            <span id="height-units" class="secondary-label">(centimeters)</span>
            <span id="height-range" class="helper-text">Between 100-250 cm</span>
            <input type="number" id="warn-height" min="100" max="250" />
        </div>
        
        <!-- Case 8: Multi-part input field -->
        <div class="field-group">
            <span id="phone-main">Phone Number</span>
            <span id="phone-format" class="secondary-label">Format: (XXX) XXX-XXXX</span>
            <div>
                <input type="tel" id="warn-phone-area" placeholder="Area code" maxlength="3" />
                <input type="tel" id="warn-phone-exchange" placeholder="Exchange" maxlength="3" />
                <input type="tel" id="warn-phone-number" placeholder="Number" maxlength="4" />
            </div>
        </div>
    </div>

    <!-- Edge Cases -->
    <div class="form-section">
        <h3>üîç Edge Cases</h3>
        
        <!-- Case 9: Field with programmatically associated labels that could be clearer -->
        <div class="field-group">
            <span id="credit-card">Credit Card</span>
            <span id="card-type">Visa/MC/Amex</span>
            <span id="card-security">Last 4 digits shown</span>
            <input type="text" id="edge-credit" placeholder="Enter card number" />
        </div>
        
        <!-- Case 10: Nested labeling context -->
        <div class="field-group">
            <div id="contact-section">
                <h4 id="contact-title">Emergency Contact</h4>
                <span id="contact-name-label">Full Name</span>
                <span id="contact-relationship">(Relationship to you)</span>
                <input type="text" id="edge-emergency-name" />
            </div>
        </div>
    </div>

    <script>
        // This script demonstrates that the accessibility checker should identify
        // the warning cases where complex labeling exists but aria-labelledby is missing
        console.log('Test fixture loaded. Accessibility checker should identify missing aria-labelledby warnings.');
    </script>
</body>
</html>