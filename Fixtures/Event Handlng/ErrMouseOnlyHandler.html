<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mouse-Only Handler Test Fixture</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        
        .test-section {
            border: 2px solid #ddd;
            margin: 20px 0;
            padding: 15px;
            border-radius: 5px;
        }
        
        .test-section h3 {
            margin-top: 0;
            color: #333;
        }
        
        .error {
            border-color: #e74c3c;
            background-color: #fdf2f2;
        }
        
        .pass {
            border-color: #27ae60;
            background-color: #f2f8f2;
        }
        
        .button, .interactive-element {
            display: inline-block;
            padding: 10px 15px;
            margin: 5px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            text-decoration: none;
        }
        
        .button:hover, .interactive-element:hover {
            background-color: #2980b9;
        }
        
        .dropdown-trigger {
            position: relative;
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            top: 100%;
            left: 0;
        }
        
        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 120px;
            background-color: black;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 0;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
        }
        
        .draggable {
            width: 100px;
            height: 100px;
            background-color: #f39c12;
            border: 2px solid #e67e22;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: move;
            margin: 10px 0;
        }
        
        .context-menu {
            display: none;
            position: absolute;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 3px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }
        
        .context-menu ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        .context-menu li {
            padding: 10px 15px;
            cursor: pointer;
        }
        
        .context-menu li:hover {
            background-color: #f0f0f0;
        }
        
        .accordion-header {
            background-color: #34495e;
            color: white;
            cursor: pointer;
            padding: 15px;
            border: none;
            width: 100%;
            text-align: left;
            outline: none;
            font-size: 16px;
            margin-bottom: 1px;
        }
        
        .accordion-content {
            padding: 0 15px;
            display: none;
            background-color: #ecf0f1;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.4);
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 5px;
        }
        
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover {
            color: black;
        }
        
        .slider {
            width: 300px;
            height: 20px;
            background: #ddd;
            border-radius: 10px;
            position: relative;
            margin: 20px 0;
        }
        
        .slider-thumb {
            width: 20px;
            height: 20px;
            background: #3498db;
            border-radius: 50%;
            position: absolute;
            cursor: pointer;
            top: 0;
        }
        
        #status {
            margin: 20px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 3px;
            min-height: 20px;
        }
    </style>
</head>
<body>
    <h1>Mouse-Only Handler Test Fixture</h1>
    <p>This fixture tests various scenarios where interactive functionality is only available through mouse events, violating WCAG 2.1.1 Keyboard accessibility.</p>
    
    <div id="status">Status updates will appear here...</div>

    <!-- ERROR CASES: Mouse-only handlers -->
    
    <div class="test-section error">
        <h3>❌ Mouse-only Button (onmousedown only)</h3>
        <button class="button" id="mousedownButton" onmousedown="updateStatus('Mouse-down button clicked!')">
            Mouse-down Only Button
        </button>
        <p><em>Issue: Only responds to onmousedown, not keyboard activation.</em></p>
    </div>

    <div class="test-section error">
        <h3>❌ Mouse-only Button (onmouseup only)</h3>
        <button class="button" id="mouseupButton" onmouseup="updateStatus('Mouse-up button clicked!')">
            Mouse-up Only Button
        </button>
        <p><em>Issue: Only responds to onmouseup, not keyboard activation.</em></p>
    </div>

    <div class="test-section error">
        <h3>❌ Hover-only Dropdown</h3>
        <div class="dropdown-trigger" id="hoverDropdown">
            <span class="button">Hover for Menu</span>
            <div class="dropdown-content" id="dropdownContent">
                <a href="#" onclick="updateStatus('Option 1 selected')">Option 1</a>
                <a href="#" onclick="updateStatus('Option 2 selected')">Option 2</a>
                <a href="#" onclick="updateStatus('Option 3 selected')">Option 3</a>
            </div>
        </div>
        <p><em>Issue: Only shows on mouseover, no keyboard equivalent.</em></p>
    </div>

    <div class="test-section error">
        <h3>❌ Hover-only Tooltip</h3>
        <div class="tooltip" id="hoverTooltip">
            <span class="button">Hover for Tooltip</span>
            <span class="tooltiptext">This tooltip only appears on hover!</span>
        </div>
        <p><em>Issue: Tooltip only shows on hover, not accessible via keyboard.</em></p>
    </div>

    <div class="test-section error">
        <h3>❌ Double-click Only Action</h3>
        <div class="interactive-element" id="doubleClickElement">
            Double-click to activate
        </div>
        <p><em>Issue: Only responds to double-click, no keyboard equivalent.</em></p>
    </div>

    <div class="test-section error">
        <h3>❌ Right-click Context Menu</h3>
        <div class="interactive-element" id="contextMenuTrigger">
            Right-click for menu
        </div>
        <div class="context-menu" id="contextMenu">
            <ul>
                <li onclick="updateStatus('Edit selected')">Edit</li>
                <li onclick="updateStatus('Delete selected')">Delete</li>
                <li onclick="updateStatus('Copy selected')">Copy</li>
            </ul>
        </div>
        <p><em>Issue: Context menu only accessible via right-click.</em></p>
    </div>

    <div class="test-section error">
        <h3>❌ Mouse-only Accordion</h3>
        <div class="accordion-header" id="mouseAccordion">
            Mouse-only Accordion Header
        </div>
        <div class="accordion-content" id="mouseAccordionContent">
            <p>This content is only accessible via mouse click on the header.</p>
        </div>
        <p><em>Issue: Accordion only responds to mouse events, not keyboard.</em></p>
    </div>

    <div class="test-section error">
        <h3>❌ Drag-only Slider</h3>
        <div class="slider" id="dragSlider">
            <div class="slider-thumb" id="sliderThumb"></div>
        </div>
        <p>Value: <span id="sliderValue">50</span>%</p>
        <p><em>Issue: Slider only works with mouse drag, no keyboard controls.</em></p>
    </div>

    <div class="test-section error">
        <h3>❌ Mouse-only Modal Trigger</h3>
        <span class="button" id="mouseModalTrigger">Open Modal (mouse only)</span>
        <div id="mouseModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeModal">&times;</span>
                <h2>Modal Dialog</h2>
                <p>This modal can only be opened with mouse events.</p>
            </div>
        </div>
        <p><em>Issue: Modal trigger only responds to mouse events.</em></p>
    </div>

    <!-- PASSING CASES: Proper keyboard support -->
    
    <div class="test-section pass">
        <h3>✅ Accessible Button (click + keyboard)</h3>
        <button class="button" onclick="updateStatus('Accessible button activated!')">
            Accessible Button
        </button>
        <p><em>Good: Works with both mouse click and keyboard (Enter/Space).</em></p>
    </div>

    <div class="test-section pass">
        <h3>✅ Keyboard Accessible Dropdown</h3>
        <button class="button" id="accessibleDropdown" onclick="toggleDropdown()" onkeydown="handleDropdownKey(event)">
            Accessible Menu
        </button>
        <div class="dropdown-content" id="accessibleDropdownContent" style="position: relative;">
            <a href="#" onclick="updateStatus('Accessible Option 1 selected')" 
               onkeydown="handleMenuItemKey(event)">Option 1</a>
            <a href="#" onclick="updateStatus('Accessible Option 2 selected')"
               onkeydown="handleMenuItemKey(event)">Option 2</a>
        </div>
        <p><em>Good: Dropdown works with keyboard navigation.</em></p>
    </div>

    <script>
        function updateStatus(message) {
            document.getElementById('status').textContent = message;
        }

        // ERROR CASES - Mouse-only event handlers

        // Mouse-down only button (already has inline onmousedown)
        
        // Mouse-up only button (already has inline onmouseup)

        // Hover-only dropdown
        document.getElementById('hoverDropdown').addEventListener('mouseenter', function() {
            document.getElementById('dropdownContent').style.display = 'block';
        });
        document.getElementById('hoverDropdown').addEventListener('mouseleave', function() {
            document.getElementById('dropdownContent').style.display = 'none';
        });

        // Hover-only tooltip
        document.getElementById('hoverTooltip').addEventListener('mouseenter', function() {
            this.querySelector('.tooltiptext').style.visibility = 'visible';
        });
        document.getElementById('hoverTooltip').addEventListener('mouseleave', function() {
            this.querySelector('.tooltiptext').style.visibility = 'hidden';
        });

        // Double-click only
        document.getElementById('doubleClickElement').addEventListener('dblclick', function() {
            updateStatus('Double-click element activated!');
        });

        // Right-click context menu
        document.getElementById('contextMenuTrigger').addEventListener('contextmenu', function(e) {
            e.preventDefault();
            const menu = document.getElementById('contextMenu');
            menu.style.display = 'block';
            menu.style.left = e.pageX + 'px';
            menu.style.top = e.pageY + 'px';
        });

        // Close context menu on click elsewhere
        document.addEventListener('click', function() {
            document.getElementById('contextMenu').style.display = 'none';
        });

        // Mouse-only accordion
        document.getElementById('mouseAccordion').addEventListener('mousedown', function() {
            const content = document.getElementById('mouseAccordionContent');
            content.style.display = content.style.display === 'block' ? 'none' : 'block';
        });

        // Drag-only slider
        let isDragging = false;
        const sliderThumb = document.getElementById('sliderThumb');
        const slider = document.getElementById('dragSlider');
        
        sliderThumb.addEventListener('mousedown', function(e) {
            isDragging = true;
        });
        
        document.addEventListener('mousemove', function(e) {
            if (isDragging) {
                const rect = slider.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));
                sliderThumb.style.left = percentage + '%';
                document.getElementById('sliderValue').textContent = Math.round(percentage);
            }
        });
        
        document.addEventListener('mouseup', function() {
            isDragging = false;
        });

        // Mouse-only modal
        document.getElementById('mouseModalTrigger').addEventListener('mousedown', function() {
            document.getElementById('mouseModal').style.display = 'block';
        });
        
        document.getElementById('closeModal').addEventListener('click', function() {
            document.getElementById('mouseModal').style.display = 'none';
        });

        // PASSING CASES - Proper keyboard support

        // Accessible dropdown
        function toggleDropdown() {
            const content = document.getElementById('accessibleDropdownContent');
            const isVisible = content.style.display === 'block';
            content.style.display = isVisible ? 'none' : 'block';
            if (!isVisible) {
                content.querySelector('a').focus();
            }
        }

        function handleDropdownKey(event) {
            if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                toggleDropdown();
            }
        }

        function handleMenuItemKey(event) {
            if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                event.target.click();
            }
        }

        // Close modals and dropdowns on Escape
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                document.getElementById('mouseModal').style.display = 'none';
                document.getElementById('accessibleDropdownContent').style.display = 'none';
            }
        });
    </script>
</body>
</html>